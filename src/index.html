<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom SplitText</title>
  <script src="https://unpkg.com/gsap@3.9.0/dist/gsap.min.js"></script>

  <style>
    body {
      font-family: 'Asap', Arial, Helvetica, sans-serif;
      color: white;
      background: black url(//s3-us-west-2.amazonaws.com/s.cdpn.io/16327/texture_bg.jpg) no-repeat 50% 0px;
      margin: 3% 10% 0 10%;
      overflow: hidden;
    }

    #quote {
      font-size: 44px;
      line-height: 50px;
      color: #dedede;
      white-space: pre; /* Preserve whitespace for line breaks */
    }

    button {
      padding: 10px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div id="quote">SplitText makes it easy to break apart the text in an HTML element so that each character, word, and/or line is wrapped in its own div tag.</div>
  <button id="animate" onclick="splitTextAnimation('quote')">animate</button>

  <script>
    function splitTextAnimation(elementId) {
      const element = document.getElementById(elementId);
      const textContent = element.innerText;
      element.innerHTML = ""; // Clear the original text

      for (let i = 0; i < textContent.length; i++) {
        const charSpan = document.createElement("span");
        charSpan.innerText = textContent[i];
        charSpan.style.opacity = 0;
        element.appendChild(charSpan);
      }

      const chars = element.children;
      animateChars(chars);
    }

    function animateChars(chars) {
      gsap.timeline({ defaults: { duration: 0.5, ease: "back" } })
        .from(chars, { opacity: 0, scale: 0, y: 80, rotationX: 180, transformOrigin: "0% 50% -50", stagger: 0.02 });
    }
  </script>
</body>
</html>
